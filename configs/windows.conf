##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Workspace bind to monitor
workspace = 1, monitor:DP-1, default:true
workspace = 2, monitor:DP-1
workspace = 3, monitor:eDP-1, default:true
workspace = 4, monitor:eDP-1

# Workspace / app assignment
windowrule = match:class Spotify, workspace 2 silent
windowrule = match:class discord-canary, workspace 2 silent
windowrule = match:title (WhatsApp Web), workspace 4 silent
windowrule = match:class $terminal, match:title btop, workspace 3 silent
windowrule = match:class $terminal, match:title peaclock, workspace 3 silent
windowrule = match:class $terminal, match:title cava, size 400 18
windowrule = match:class $terminal, match:title cava, move 100% 100%
windowrule = match:class ^(Brave-browser|firefox), workspace 1 silent

# Example windowrule
# windowrule = match:class ^(kitty)$, match:title ^(kitty)$, float on

# Ignore maximize requests from apps. You'll probably like this.
windowrule = match:class .*, suppress_event maximize

# Force full opacity on browsers
windowrule = match:class ^(HytaleClient|Hytale), opacity 1 override
windowrule = match:class ^(Brave-browser|firefox), opacity 1 override, float off


windowrule {
    name = xwayland-video-bridge-fixes
    match:class = xwaylandvideobridge

    no_initial_focus = true
    no_focus = true
    no_anim = true
    no_blur = true
    max_size = 1 1
    opacity = 0.0
}

###########################
### FLOATING APPLICATIONS #
###########################

# Pavucontrol floating
windowrule = match:class (.*org.pulseaudio.pavucontrol.*), float on
windowrule = match:class (.*org.pulseaudio.pavucontrol.*), size 700 600
windowrule = match:class (.*org.pulseaudio.pavucontrol.*), center on
windowrule = match:class (.*org.pulseaudio.pavucontrol.*), pin on

# OpenAI ChatGPT floating
windowrule = match:title (ChatGPT.*), float on
windowrule = match:title (.*chat.openai.com.*), float on
windowrule = match:title (.*chat.openai.com.*), size 500 50%
windowrule = match:title (.*chat.openai.com.*), move 20 70

# Waypaper
windowrule = match:class (.*waypaper.*), float on
windowrule = match:class (.*waypaper.*), size 900 700
windowrule = match:class (.*waypaper.*), center on
windowrule = match:class (.*waypaper.*), pin on

################
### SWAYNC    ###
################

# Hyprland 0.53 layer rule syntax (layerrule + namespace)
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
# layerrule = ignorezero, namespace:swaync-control-center
# layerrule = ignorezero, namespace:swaync-notification-window
layerrule = ignore_alpha 0.5, match:namespace swaync-control-center
layerrule = ignore_alpha 0.5, match:namespace swaync-notification-window

###########################
### ML4W APPS FLOATING  ###
###########################

# ML4W Calendar floating
windowrule = match:class (com.ml4w.calendar), float on
windowrule = match:class (com.ml4w.calendar), move 100%-w-16 66
windowrule = match:class (com.ml4w.calendar), pin on
windowrule = match:class (com.ml4w.calendar), size 400 400

# ML4W Sidebar floating
windowrule = match:class (com.ml4w.sidebar), float on
windowrule = match:class (com.ml4w.sidebar), move 100%-w-16 66
windowrule = match:class (com.ml4w.sidebar), pin on
windowrule = match:class (com.ml4w.sidebar), size 400 740

# ML4W Welcome App floating
windowrule = match:class (com.ml4w.welcome), float on
windowrule = match:class (com.ml4w.welcome), size 700 600
windowrule = match:class (com.ml4w.welcome), center on
windowrule = match:class (com.ml4w.welcome), pin on

# ML4W Settings App floating
windowrule = match:class (com.ml4w.settings), float on
windowrule = match:class (com.ml4w.settings), size 800 600
windowrule = match:class (com.ml4w.settings), move 10% 20%

###########################
### SYSTEM UTILITIES    ###
###########################

# Blueman Manager
windowrule = match:class (blueman-manager), float on
windowrule = match:class (blueman-manager), size 800 600
windowrule = match:class (blueman-manager), center on

# nwg-look
windowrule = match:class (nwg-look), float on
windowrule = match:class (nwg-look), size 700 600
windowrule = match:class (nwg-look), move 10% 20%
windowrule = match:class (nwg-look), pin on

# nwg-displays
windowrule = match:class (nwg-displays), float on
windowrule = match:class (nwg-displays), size 900 600
windowrule = match:class (nwg-displays), move 10% 20%
windowrule = match:class (nwg-displays), pin on

# System Mission Center
windowrule = match:class (io.missioncenter.MissionCenter), float on
windowrule = match:class (io.missioncenter.MissionCenter), pin on
windowrule = match:class (io.missioncenter.MissionCenter), center on
windowrule = match:class (io.missioncenter.MissionCenter), size 900 600

# System Mission Center Preference Window
windowrule = match:class (missioncenter), match:title ^(Preferences)$, float on
windowrule = match:class (missioncenter), match:title ^(Preferences)$, pin on
windowrule = match:class (missioncenter), match:title ^(Preferences)$, center on

# Gnome Calculator
windowrule = match:class (org.gnome.Calculator), float on
windowrule = match:class (org.gnome.Calculator), size 700 600
windowrule = match:class (org.gnome.Calculator), center on

# Emoji Picker Smile
windowrule = match:class (it.mijorus.smile), float on
windowrule = match:class (it.mijorus.smile), pin on
windowrule = match:class (it.mijorus.smile), move 100%-w-40 90

# Hyprland Share Picker
windowrule = match:class (hyprland-share-picker), float on
windowrule = match:class (hyprland-share-picker), pin on
windowrule = match:class (hyprland-share-picker), center on
windowrule = match:class (hyprland-share-picker), size 600 400

###########################
### GENERAL FLOATING    ###
###########################

# General floating
windowrule = match:class (dotfiles-floating), float on
windowrule = match:class (dotfiles-floating), size 1000 700
windowrule = match:class (dotfiles-floating), center on

# Floating for Ghostty (ml4w dotfiles)
windowrule = match:class (ml4w.dotfiles.floating), float on
windowrule = match:class (ml4w.dotfiles.floating), size 1000 700
windowrule = match:class (ml4w.dotfiles.floating), center on
windowrule = match:class (ml4w.dotfiles.floating), pin on

# Float on and center file pickers
windowrule = match:class xdg-desktop-portal-gtk, match:title ^(Open.*Files?|Save.*Files?|All Files|Save), float on
windowrule = match:class xdg-desktop-portal-gtk, match:title ^(Open.*Files?|Save.*Files?|All Files|Save), center on

###########################
### XWAYLAND BRIDGE     ###
###########################

windowrule = match:class ^(xwaylandvideobridge)$, opacity 0.0 override
windowrule = match:class ^(xwaylandvideobridge)$, no_anim on
windowrule = match:class ^(xwaylandvideobridge)$, no_initial_focus on
windowrule = match:class ^(xwaylandvideobridge)$, max_size 1 1
windowrule = match:class ^(xwaylandvideobridge)$, no_blur on
windowrule = match:class ^(xwaylandvideobridge)$, no_focus on
